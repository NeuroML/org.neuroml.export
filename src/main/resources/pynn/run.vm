# Main PyNN script for: $name


from pyNN.utility import get_simulator, init_logging, normalized_filename

sim, options = get_simulator(("--plot-figure", "Plot the simulation results to a file.", {"action": "store_true"}),
                             ("--debug", "Print debugging information"))

if options.debug:
    init_logging(None, debug=True)

sim.tstop = $t_end

sim.setup(timestep=$dt)

print("Running a PyNN based simulation in %s for %sms (dt: %sms)"%(options.simulator.upper(), sim.tstop, sim.get_time_step()))

sim.run(sim.tstop)

sim.end()